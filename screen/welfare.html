<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>企业福利购数据中心</title>
		<link rel="stylesheet" type="text/css" href="./css/welfare.css"/>
	</head>
	<body>
		<div class="head-img">
			<img src="images/welfare/biaoti.png" />
		</div>
		<div class="main-body">
			<div class="main-left">
				<div class="area-h5"><h5>合作伙伴增长数</h5></div>
				<div id="main" style="width: 100%;height: 185px"></div>
				<div class="area-h5" style="margin-top: 10px;"><h5>商品类别销售占比</h5></div>
				<div id="main1" style="width: 100%;height: 145px;"></div>
				<div class="area-h5"><h5>销售额</h5></div>
				<div id="main2" style="width: 100%;height: 235px;"></div>
			</div>
			<div class="main-middle">
				<div class="group-list">
					<div class="group-item">
						<div class="top">
							<div class="top-left">会员</div>
							<div class="top-right">
								<div class="text">上月新增</div>
								<img src="images/welfare/xinzeng.png" class="arrow-icon">
								<div class="num">
									451
								</div>
							</div>
						</div>
						<div class="line">
							<img src="images/welfare/fenge.png"  />
						</div>
						<div class="footer">
							<img src="images/welfare/shuzhi.png" class="appreciation" />
							<div class="numberRun1">
							</div>
						</div>
					</div>
					<div class="group-item">
						<div class="top">
							<div class="top-left">订单总数</div>
							<div class="top-right">
								<div class="text">上月新增</div>
								<img src="images/welfare/xinzeng.png" class="arrow-icon">
								<div class="num">51309</div>
							</div>
						</div>
						<div class="line">
							<img src="images/welfare/fenge.png"  />
						</div>
						<div class="footer">
							<img src="images/welfare/shuzhi.png" class="appreciation" />
							<div class="numberRun2">
							</div>
						</div>
					</div>
					<div class="group-item">
						<div class="top">
							<div class="top-left">合作伙伴</div>
							<div class="top-right">
								<div class="text">上月新增</div>
								<img src="images/welfare/xinzeng.png" class="arrow-icon">
								<div class="num">3</div>
							</div>
						</div>
						<div class="line">
							<img src="images/welfare/fenge.png"  />
						</div>
						<div class="footer">
							<img src="images/welfare/shuzhi.png" class="appreciation" />
							<div class="numberRun3" >
							</div>
						</div>
					</div>
					<div class="group-item">
						<div class="top">
							<div class="top-left">销售额</div>
							<div class="top-right">
								<div class="text">上月新增</div>
								<img src="images/welfare/xinzeng.png" class="arrow-icon">
								<div class="num">20523951</div>
							</div>
						</div>
						<div class="line">
							<img src="images/welfare/fenge.png"  />
						</div>
						<div class="footer">
							<img src="images/welfare/shuzhi.png" class="appreciation" />
							<div class="numberRun4" >
							</div>
						</div>
					</div>
				</div>
			    <div class="area-h5"><h5>当月用户增长</h5></div>
				<div id="main3" style="width: 100%;height: 280px;"></div>
			</div>
			<div class="main-right">
				<div class="main-right-top">
					<div class="area-h5"><h5>各月份数据统计</h5></div>
					<table >
						<tr>
							<th>月份</th>
							<th>GMV</th>
							<th>订单量</th>
							<th>下单人数</th>
							<th>客单价</th>
						</tr>
						<tr>
						<td class="fMonth">七月</td>
						<td>1710329</td>
						<td>4191</td>
						<td>698</td>
						<td>431</td>
					   </tr>
					   <tr>
						<td class="sMonth">八月</td>
						<td>5130987</td>
						<td>12827</td>
						<td>2137</td>
						<td>421</td>
					   </tr>
					   <tr>
						<td class="tMonth">九月</td>
						<td>8551646</td>
						<td>21486</td>
						<td>3581</td>
						<td>387</td>
					   </tr>
					   <tr>
						<td class="uMonth">十月</td>
						<td>13682634</td>
						<td>34036</td>
						<td>5672</td>
						<td>383</td>
					   </tr>
					   <tr>
						<td class="vMonth">十一月</td>
						<td>25704149</td>
						<td>51309</td>
						<td>9064</td>
						<td>501</td>
					   </tr>
					</table>
				</div>
				<!-- <img src="images/welfare/sjtj.png" /> -->
				<div class="main-right-bottom">
					<div class="area-h5"><h5>各品类的复购情况</h5></div>
					<div class="text" id="newDate"></div>
					<div class="main4" id="main4" style="width: 100%;height: 240px;"></div>
				</div>
			</div>
		</div>
		<script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>
		<script src="js/echarts.min.js" type="text/javascript" charset="utf-8"></script>
		<script src="js/number.js"></script>
		<script src="js/dateDeal.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript">
			// console.log(getDifferentDate(-7));
			var array = getDifferentDate(-17),userList = [],digital = [],food = [],skincare = [],apparel = []
			var monthArray = getDifferentMonth(-4)
			for (var i = 0; i < 18; i++) {
				userList.push(rnd(0,30))
			}
			for (var i = 0; i < 6; i++) {
				digital.push(rnd(0,22))
				food.push(rnd(0,22))
				skincare.push(rnd(0,22))
				apparel.push(rnd(0,22))
			}
			$("#newDate").html(getYearArea(-4))
			$('.fMonth').html(dateZh(monthArray[0]))
			$('.sMonth').html(dateZh(monthArray[1]))
			$('.tMonth').html(dateZh(monthArray[2]))
			$('.uMonth').html(dateZh(monthArray[3]))
			$('.vMonth').html(dateZh(monthArray[4]))
			
			var numRun1 = $(".numberRun1").numberAnimate({
			    num: '17103',
				// speed: 2000,
			    speed: 0,
				symbol: ","
			});
			var nums1 =  17103;
			setInterval(function () {
			    nums1 += 1;
			    numRun1.resetData(nums1);
			}, 20000);
			//  2
			var numRun2 = $(".numberRun2").numberAnimate({
			    num: '123849',
				// speed: 2000,
			    speed: 0,
				symbol: ","
			});
			var nums2 =  123849;
			setInterval(function () {
			    nums2 += rnd(0,10);
			    numRun2.resetData(nums2);
			}, 4000);
			// 3
			var numRun3 = $(".numberRun3").numberAnimate({
			    num: '36',
				speed: 0
			    // speed: 2000
			});
			var nums3 =  36;
			setInterval(function () {
			    nums3 += rnd(0,20);
			    numRun3.resetData(nums3);
			}, 500000);
			// 4
			var numRun4 = $(".numberRun4").numberAnimate({
			    num: '49596531',
			    speed: 0,
				symbol: ","
			});
			var nums4 =  49596531;
			setInterval(function () {
			    nums4 += rnd(50,160);
			    numRun4.resetData(nums4);
			}, 5000);
			function rnd(min, max) {
			    return Math.floor(Math.random() * (max - min + 1) + ~~min)
			}
			// 合作伙伴增长数
			var option = {
			    tooltip: {
			        trigger: 'axis',
			        axisPointer: {            // 坐标轴指示器，坐标轴触发有效
			            type: 'line'        // 默认为直线，可选为：'line' | 'shadow'
			        }
			    },
			    grid: {
					top: '20%',
					left: '8%',
					right: '8%',
					bottom: 0,
					containLabel: true
			    },
			    xAxis: [
			        {
			            type: 'category',
			            data: monthArray,
			            axisTick: {      //y轴刻度线
			                // alignWithLabel: true,
			                inside: true
			            },
						axisLine: {
							lineStyle: {
								color: 'rgba(17,83,114,.8)'
							}
						},
						axisLabel: {
						   textStyle: {
						     color: '#fff'
						  },
						    formatter: '{value}月'
						}
			        }
			         
			    ],
			    yAxis: [
			        {
						name: '单位(家)',
						nameTextStyle: {
							color: '#ffffff',
							fontSize: 10
						},
			            type: 'value',
			            axisLine: {
			               show: false,
			            },
			             splitArea: {
			                    show: true,
			                    areaStyle: {
									color: ['transparent','rgba(30,60,117,0.2)']
								}
			                },
						splitLine: {
							lineStyle: {
								color: 'rgba(17,83,114,.8)'
							}
						},
			            axisTick:{       //y轴刻度线
			              "show":false
			             },
			            axisLabel: {
			               textStyle: {
			                 color: '#fff'
			              }
			            }
			            
			        }
			    ],
			    series: [
			        {
			            name: '直接访问',
			            type: 'bar',
			            barWidth: '40%',
			              itemStyle: {
			               color: new echarts.graphic.LinearGradient(
			                        0, 0, 0, 1,
			                        [
			                            {offset: 0, color: '#297FD6'},
			                            {offset: 1, color: '#00D7FF'}
			                        ]
			                    )
			            },
			            data: [2,1,3,5,4,3]
			        }
			    ]
			};
			 var myChart = echarts.getInstanceByDom(document.getElementById("main"));
			 myChart = echarts.init(document.getElementById("main"))
			
			 myChart.setOption(option);
			
			 // 商品类别销售占比
			  option1 = {
			      tooltip: {
			          trigger: 'item',
			          formatter: '{a} <br/>{b}: {c} ({d}%)'
			      },
			      legend: {
			          orient: 'vertical',
					  top: 32,
			          right: 10,
					  icon: 'circle',
					  data: [{name: '服饰',textStyle: {
					  	color: '#517BEE'
					  }},{name: '食品',textStyle: {color: '#ED7538'}},{name: '护肤品', textStyle: {
					  	color: '#FC444F'}
					  },{name: '其他', textStyle: {
					  	color: '#53DAC6'}
					  }]
			      },
				  grid: {
					  left: 0
				  },
			      series: [
			          {
			              name: '商品类别销售占比',
			              type: 'pie',
						  center: ['38%','50%'],
			              radius: ['28%', '48%'],
			              // avoidLabelOverlap: false,
			              label: {
			                  formatter: '{d}%'
			              },
			              labelLine: {
			                  
			              },
			               itemStyle: {
			                  emphasis: {
			                      shadowBlur: 10,
			                      shadowOffsetX: 0,
			                      shadowColor: 'rgba(0, 0, 0, 0.5)'
			                   },
			                  
			                  color:function(params) {
			                  //自定义颜色
			                  var colorList = [          
			                          '#517BEE', '#ED7538', '#FC444F', '#53DAC6'
			                      ];
			                      return colorList[params.dataIndex]
			                   }
			                  
			              },
			              data: [
			                  {value: 41.92, name: '服饰'},
			                  {value: 29.31, name: '食品'},
			                  {value: 8.59, name: '护肤品'},
			                  {value: 20.18, name: '其他'},
			              ]
			          }
			      ]
			  };
			  var myChart1 = echarts.getInstanceByDom(document.getElementById("main1"));
			  myChart1 = echarts.init(document.getElementById('main1'));
			  myChart1.setOption(option1);
			  
			 // 销售额
			 myChart2 = echarts.init(document.getElementById('main2'));
			option2 = {
				grid: {
					top: '20%',
					containLabel: true
				},
			    xAxis: {
			        type: 'category',
			        data: monthArray,
			          axisTick: {      //x轴刻度线
						 show:false,
						 alignWithLabel: true
			          },
					  axisLabel: {
					     textStyle: {
					           color: '#ffffff'
					    },
						  formatter: '{value}月'
					  },
					  axisLine: {
						  lineStyle: {
							 color: 'rgba(84,48,156,.4)' 
						  }
					  }
			    },
			    yAxis: {
					name: '单位(万)',
					nameTextStyle: {
						color: '#ffffff',
						fontSize: 10,
						padding: [0,45,0,0]
					},
					
			        type: 'value',
			          axisTick:{       //y轴刻度线
			              "show":false
			             },
			            axisLabel: {
			               textStyle: {
			                     color: '#ffffff'
			              }
			            },
			             axisLine: { // y轴设置
			               show: false,
			            },
			            // y轴分割线
			            splitLine: {
			                lineStyle: {
			                    color: 'rgba(84,48,156,.4)'
			                }
			            }
			    },
			    series: [{
			        name: '月份',
			        data: [480, 1000, 1200, 1400, 2000, 2300],
			        type: 'line',
			        symbolSize: 4,
					lineStyle: {
						color: '#5C38F8'
					},
					itemStyle: {
						borderColor: 'transparent'
					},
			       areaStyle: {
			             //颜色渐变函数 前四个参数分别表示四个位置依次为左、下、右、上
			                color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
			                    offset: 0,
			                    color: 'rgba(93,57,248,0.55)'
			                }, {
			                    offset: 0.8,
			                    color: 'rgba(93,57,248,0)'
			                }]),
			                shadowColor: 'rgba(0, 0, 0, 0.1)',
			                shadowBlur: 10
			            },
			            
			    }]
			};
			
			 myChart2.setOption(option2);
			
			// 当月用户增长
			myChart3 = echarts.init(document.getElementById('main3'));
			option3 = {
				gird: {
					top: 0
				},
			    legend: {
			        data: ["用户增长人数"],
					bottom: 0,
					left: 225,
					textStyle: {
						color: '#FFE71B',
						fontSize: 8
					},
					itemWidth: 30,
					itemHeight: 8
			    },
			    xAxis: {
			        type: 'category',
			        axisTick: {      //x轴刻度线
			                 "show":false
			            },
			              //网格样式
			        splitLine: {
			            show: true,
			            lineStyle:{
			                color: 'rgba(84,48,156,.4)',
			                width: 1,
			                type: 'solid'
			            }
			        },
					axisLine: {
						lineStyle: {
							color: 'rgba(84,48,156,.4)'
						}
					},
			        axisLabel:{
						'interval':0,
						rotate:30,
						color: 'rgba(255,255,255,.4)',
						fontSize: 8,
						padding: [0,0,0,10]
					},  // 数字倾斜
					data: array
			    },
			    yAxis: {
					name: '用户增长数(人)',
					nameTextStyle: {
						color: '#ffffff',
						fontSize: 10,
						padding: [0,0,0,18]
					},
			        type: 'value',
			          axisTick:{       //y轴刻度线
			              "show":false
			             },
			            axisLabel: {
			               textStyle: {
			                     color: '#ffffff'
			             }
			            },
			             axisLine: {
			               show: false
			            },
						axisLine: {
							lineStyle: {
								color: 'rgba(84,48,156,.4)'
							}
						},
			            splitLine: {
			              show: true,
			              lineStyle:{
			                 color: 'rgba(84,48,156,.4)',
			                 width: 1,
			                type: 'solid'
			              }
			        }
			    },
			    series: [{
			        name: '用户增长人数',
			        data: userList,
			        type: 'line',
			        smooth: true, // 设置平滑
					symbol: 'circle',  // 设置为圆圈(为了改变圆的颜色)
			        symbolSize: 5, // 设置圆圈大小
			        lineStyle: {
						color: '#FFE71B'
					},
					itemStyle: {
						borderColor: 'transparent',
						color: '#FFE71B'
					},
			    }]
			};
			
			myChart3.setOption(option3);
			
			
			// 各品类的复购情况
			
			option4 = {
				grid: {
					top: '5%',
					left: '5%',
					right: '5%',
					bottom: 50,
					containLabel: true
				},
				legend: {
					 bottom: 15,
				     left: 80,
					 icon: 'circle',
					 itemWidth: 6,
					 textStyle: {
						fontSize: 9
					 },
					 data: [{name: '护肤品',textStyle: {
						color: '#FFE71B'
					  }},{name: '食品',textStyle: {color: '#4BE8FF'}},{name: '服饰', textStyle: {
						color: '#646BE5'}
					  },{name: '手机数码', textStyle: {
						color: '#EB58E9'}
					  }]
				},
			    xAxis: {
			        type: 'category',
			        data: monthArray,
			          axisTick: {      //x轴刻度线
			              "show":false
			          },
					  axisLabel: {
					     textStyle: {
					           color: '#ffffff',
							   fontSize: 10
					    },
						 formatter: '{value}月'
					  },
					  axisLine: {
						  lineStyle: {
							 color: 'rgba(84,48,156,.4)' 
						  }
					  }
			    },
			    yAxis: {
			        type: 'value',
			          axisTick:{       //y轴刻度线
			              "show":false
			             },
			            axisLabel: {
			               textStyle: {
			                     color: '#ffffff'
			              },
						  formatter: '{value} %'  
			            },
			             axisLine: { // y轴设置
			               show: false,
			            },
			            // y轴分割线
			            splitLine: {
			                lineStyle: {
			                    color: 'rgba(84,48,156,.4)'
			                }
			            }
			    },
			    series: [
					{
			        name: '护肤品',
			        data: skincare,
			        type: 'line',
			        showSymbol: false,
					smooth: true,
					lineStyle: {
						color: '#FFE71B'
					},
					color: '#FFE71B',
			       areaStyle: {
			             //颜色渐变函数 前四个参数分别表示四个位置依次为左、下、右、上
			                color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
			                    offset: 0,
			                    color: 'rgba(255,231,27,.8)'
			                }, {
			                    offset: .8,
			                    color: 'rgba(255,231,27,0)'
			                }]),
			                shadowColor: 'rgba(0, 0, 0, 0.1)',
			                shadowBlur: 10
			            },
			            
			     },
				 {
				    name: '食品',
				    data: food,
				    type: 'line',
					smooth: true,
					showSymbol: false,
					lineStyle: {
						color: '#4BE8FF'
					},
					color: '#4BE8FF',
				   areaStyle: {
				         //颜色渐变函数 前四个参数分别表示四个位置依次为左、下、右、上
				            color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
				                offset: 0,
				                color: 'rgba(75,232,255,.8)'
				            }, {
				                offset: .8,
				                color: 'rgba(75,232,255,0)'
				            }]),
				            shadowColor: 'rgba(0, 0, 0, 0.1)',
				            shadowBlur: 10
				        },
				        
				 },
				 {
				    name: '服饰',
				     data: apparel,
				    type: 'line',
				    showSymbol: false,
					smooth: true,
					lineStyle: {
						color: '#646BE5'
					},
					color: '#646BE5',
				   areaStyle: {
				         //颜色渐变函数 前四个参数分别表示四个位置依次为左、下、右、上
				            color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
				                offset: 0,
				                color: 'rgba(100,107,229,.8)'
				            }, {
				                offset: 0.8,
				                color: 'rgba(100,107,229,0)'
				            }]),
				            shadowColor: 'rgba(0, 0, 0, 0.1)',
				            shadowBlur: 10
				        },
				        
				 },
				 {
				    name: '手机数码',
				    data: digital,
				    type: 'line',
				    showSymbol: false,
					smooth: true,
					lineStyle: {
						color: '#EB58E9'
					},
					color: '#EB58E9',
				   areaStyle: {
				         //颜色渐变函数 前四个参数分别表示四个位置依次为左、下、右、上
				            color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
				                offset: 0,
				                color: 'rgba(235,88,233,.8)'
				            }, {
				                offset: 0.8,
				                color: 'rgba(235,88,233,0)'
				            }]),
				            shadowColor: 'rgba(0, 0, 0, 0.1)',
				            shadowBlur: 10
				        },
				        
				 }
				
				]
			};
			 myChart4 = echarts.init(document.getElementById('main4'));
			 myChart4.setOption(option4);
			
		 
		</script>
	
	</body>
</html>
